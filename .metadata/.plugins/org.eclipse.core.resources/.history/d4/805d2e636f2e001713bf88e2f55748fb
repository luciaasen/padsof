/**
 * 
 */
package icfs.teacher.main;

import java.awt.*;
import java.util.Collection;

import javax.swing.*;
import javax.swing.event.*;

import moon.course.Course;

/**
 * @author lucia
 *
 */
public class FilteredList<V> extends JPanel {
	private DefaultListModel<V> model = new DefaultListModel<V>() ;
	private Collection<V> defaultCollection;
	
	public FilteredList(Dimension d, Collection<V> defaultCollection, int separation){
		this.setPreferredSize(d);
		
		/*Create a scrolled list with a model in it and the size resulted from separation*/
		this.defaultCollection = defaultCollection;
		for (V element: defaultCollection) this.model.addElement(element);
		JList<V> list = new JList<V>(this.model);
		list.setSize(d.width - 2*separation, d.height - 2*separation);
		JScrollPane scroll = new JScrollPane(list);
		this.add(scroll);
		
		/*Create the textfield that will filter the list*/
		JTextField text = filteringTextField();
		this.add(text, BorderLayout.PAGE_START);
	}

	private JTextField filteringTextField(){
		JTextField text = new JTextField();
		text.getDocument().addDocumentListener(new DocumentListener(){
							@Override public void insertUpdate(DocumentEvent e) {myfilter();}
							@Override public void removeUpdate(DocumentEvent e) {myfilter();}
							@Override public void changedUpdate(DocumentEvent e){}
							private void myfilter(){
								String t = text.getText();
								filter(t);
							}
					});
		return text;
	}
	
	private void filter(String t){
		for(V element: this.defaultCollection){
			if(element.toString()))
		}
	}
}
