/**
 * 
 */
package icfs.teacher.main;

import java.awt.Dimension;

import javax.swing.JPanel;
import javax.swing.SpringLayout;

import icfs.LowerPanel;
import moon.Academy;
import moon.course.Course;
import moon.user.Student;

/**
 * @author lucia
 *
 */
public class MainTeacherLower extends LowerPanel{
	private static final int separation = 20;
	public MainTeacherLower(){
		super();
		SpringLayout layout = new SpringLayout();
		this.setLayout(layout);
		
		JPanel right = right();
		JPanel left = left();
		layout.putConstraint(SpringLayout.NORTH, right, 0,SpringLayout.NORTH, this);
		layout.putConstraint(SpringLayout.NORTH, left, 0,SpringLayout.NORTH, this);
		layout.putConstraint(SpringLayout.EAST, right, 0,SpringLayout.EAST, this);
		layout.putConstraint(SpringLayout.WEST, left, 0,SpringLayout.WEST, this);
		
		this.add(left);
		this.add(right);

	}
	
	/**
	 * Creates the left panel of the main teacher lower vie wwith the scrolled lists
	 * @return Left panel
	 */
	private JPanel left(){
		/*Create left Panel, sey size and layout*/
		JPanel left = new JPanel();
		left.setPreferredSize(new Dimension(this.getWidth()/2, this.getHeight()));
		left.setBackground(Academy.ORANGE);
		SpringLayout layout = new SpringLayout();
		left.setLayout(layout);
		
		/*Get the 2 panels with lists that should be inside*/
		Dimension listDimension = new Dimension(left.getWidth(), left.getHeight()/2);
		FilteredList<Course> courses = new FilteredList(listDimension, Academy.getMoonApp().getCourses(), 20);
		FilteredList<Student> students = new FilteredList(listDimension, Academy.getMoonApp().getUsers(), 20);
		
		/*Set constraints and add panels*/
		layout.putConstraint(SpringLayout.NORTH, courses, 0, SpringLayout.NORTH, left);
		layout.putConstraint(SpringLayout.SOUTH, students, 0, SpringLayout.SOUTH, left);
		layout.putConstraint(SpringLayout.WEST, courses, 0, SpringLayout.WEST, left);
		layout.putConstraint(SpringLayout.WEST, students, 0, SpringLayout.WEST, left);
		left.add(students);
		left.add(courses);
		
		return left;
	}
	
	/**
	 * This method returns the separation between the panel borders and the lists
	 * @return separation 
	 */
	private int listWidth(){
		return this.getWidth()/2 - 2*separation;
	}
	
	/**
	 * Creates the right panel of the main teacher lower window with the calendar etc
	 * @return right panel
	 */
	private JPanel right(){
		JPanel right = new JPanel();
		right.setPreferredSize(new Dimension(this.getWidth()/2, this.getHeight()));
		right.setBackground(Academy.LIGHT_GREEN);
		
		return right;
	}

}
